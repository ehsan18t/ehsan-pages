/* Fonts - with display swap for better performance */
@import url('https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

/* Tailwind CSS */
@import 'tailwindcss';
@plugin '@tailwindcss/typography';

/* =============================================================================
   CENTRALIZED THEME SYSTEM
   - Change colors here to update the entire site
   - All components reference these tokens
   ============================================================================= */

@layer base {
	:root,
	[data-theme='dark'] {
		color-scheme: light dark;

		/* -------------------------------------------------------------------------
		   BASE COLORS (RGB for alpha compositing)
		   ------------------------------------------------------------------------- */
		--background: 2, 21, 38; /* #021526 - Main background */
		--foreground: 224, 230, 237; /* #E0E6ED - Primary text */
		--foreground-muted: 170, 183, 196; /* #AAB7C4 - Secondary text */
		--secondary: 255, 111, 97; /* #ff6f61 - Secondary accent */

		/* -------------------------------------------------------------------------
		   ACCENT COLORS (OKLCH for perceptual uniformity)
		   Change the hue (185) to shift the entire color scheme:
		   - 185 = Teal/Cyan (current)
		   - 250 = Blue
		   - 300 = Purple
		   - 350 = Pink
		   - 30  = Orange
		   - 120 = Green
		   ------------------------------------------------------------------------- */
		--accent-hue: 185;
		--accent-300: 0.95 0.07 var(--accent-hue); /* Light - text on dark */
		--accent-500: 0.78 0.165 var(--accent-hue); /* Medium - titles, emphasis */
		--accent-900: 0.55 0.22 var(--accent-hue); /* Dark - backgrounds, borders */

		/* Semantic accent aliases */
		--accent-bg: var(--accent-900);
		--accent-text: var(--accent-300);
		--accent-title: var(--accent-500);

		/* -------------------------------------------------------------------------
		   SURFACE COLORS (for cards, modals, overlays)
		   ------------------------------------------------------------------------- */
		--surface-1: color-mix(in oklch, rgb(var(--background)), white 3%);
		--surface-2: color-mix(in oklch, rgb(var(--background)), white 6%);
		--surface-3: color-mix(in oklch, rgb(var(--background)), white 10%);
		--surface-glass: rgba(var(--background), 0.85);

		/* -------------------------------------------------------------------------
		   BORDER COLORS
		   ------------------------------------------------------------------------- */
		--border-subtle: rgba(var(--foreground), 0.08);
		--border-default: rgba(var(--foreground), 0.12);
		--border-strong: rgba(var(--foreground), 0.2);
		--border-accent: oklch(var(--accent-text) / 0.2);

		/* -------------------------------------------------------------------------
		   SHADOW TOKENS
		   ------------------------------------------------------------------------- */
		--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
		--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
		--shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.2);
		--shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.25);
		--shadow-accent: 0 8px 24px oklch(var(--accent-bg) / 0.3);
		--shadow-glow: 0 0 20px oklch(var(--accent-text) / 0.4);

		/* -------------------------------------------------------------------------
		   ANIMATION TOKENS
		   ------------------------------------------------------------------------- */
		--duration-fast: 150ms;
		--duration-normal: 300ms;
		--duration-slow: 500ms;
		--duration-slower: 700ms;

		--ease-default: cubic-bezier(0.4, 0, 0.2, 1);
		--ease-in: cubic-bezier(0.4, 0, 1, 1);
		--ease-out: cubic-bezier(0, 0, 0.2, 1);
		--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
		--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

		/* -------------------------------------------------------------------------
		   SPACING TOKENS (consistent rhythm)
		   ------------------------------------------------------------------------- */
		--space-xs: 0.25rem; /* 4px */
		--space-sm: 0.5rem; /* 8px */
		--space-md: 1rem; /* 16px */
		--space-lg: 1.5rem; /* 24px */
		--space-xl: 2rem; /* 32px */
		--space-2xl: 3rem; /* 48px */
		--space-3xl: 4rem; /* 64px */

		/* -------------------------------------------------------------------------
		   RADIUS TOKENS
		   ------------------------------------------------------------------------- */
		--radius-sm: 0.375rem; /* 6px */
		--radius-md: 0.5rem; /* 8px */
		--radius-lg: 0.75rem; /* 12px */
		--radius-xl: 1rem; /* 16px */
		--radius-2xl: 1.5rem; /* 24px */
		--radius-full: 9999px;

		/* -------------------------------------------------------------------------
		   SCROLLBAR COLORS
		   ------------------------------------------------------------------------- */
		--scroll-bg: rgb(var(--background));
		--scroll-main: oklch(var(--accent-900));

		/* -------------------------------------------------------------------------
		   TERMINAL THEME (Tokyo Night inspired)
		   ------------------------------------------------------------------------- */
		--terminal-bg: #1a1b26;
		--terminal-header: #24283b;
		--terminal-text: #c0caf5;
		--terminal-muted: #565f89;
		--terminal-scrollbar: #414868;
		--terminal-error: #f7768e;
		--terminal-success: #9ece6a;
		--terminal-info: #7aa2f7;
		--terminal-warning: #e0af68;
		--terminal-purple: #bb9af7;
		--terminal-btn-close: #ff5f57;
		--terminal-btn-minimize: #febc2e;
		--terminal-btn-maximize: #28c840;

		/* -------------------------------------------------------------------------
		   LOADER THEME
		   ------------------------------------------------------------------------- */
		--loader-gold: #ffd700;
		--loader-gold-glow: rgba(255, 215, 0, 0.3);
	}

	/* =========================================================================
	   LIGHT THEME OVERRIDES
	   ========================================================================= */
	[data-theme='light'] {
		--background: 249 250 251;
		--background-muted: 0.967 0.003 264.542;
		--foreground: 17 24 39;
		--foreground-muted: 75 85 99;

		/* Flip accent semantics for light mode */
		--accent-bg: var(--accent-300);
		--accent-text: var(--accent-900);
		--accent-title: var(--accent-900);

		/* Light mode surfaces */
		--surface-1: color-mix(in oklch, rgb(var(--background)), black 2%);
		--surface-2: color-mix(in oklch, rgb(var(--background)), black 4%);
		--surface-3: color-mix(in oklch, rgb(var(--background)), black 8%);
		--surface-glass: rgba(var(--background), 0.9);

		/* Light mode borders */
		--border-subtle: rgba(0, 0, 0, 0.06);
		--border-default: rgba(0, 0, 0, 0.1);
		--border-strong: rgba(0, 0, 0, 0.15);

		/* Light mode shadows */
		--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
		--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
		--shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.1);
		--shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.12);

		/* Light mode scrollbar */
		--scroll-main: oklch(var(--accent-500));
	}
}

/* =============================================================================
   TAILWIND THEME MAPPING
   Maps CSS variables to Tailwind utility classes
   ============================================================================= */

@theme {
	/* Colors - accessible via bg-*, text-*, border-* utilities */
	--color-background: rgb(var(--background));
	--color-foreground: rgb(var(--foreground));
	--color-foreground-muted: rgb(var(--foreground-muted));
	--color-secondary: rgb(var(--secondary));

	--color-accent-300: oklch(var(--accent-300));
	--color-accent-500: oklch(var(--accent-500));
	--color-accent-900: oklch(var(--accent-900));

	--color-accent-bg: oklch(var(--accent-bg));
	--color-accent-text: oklch(var(--accent-text));
	--color-accent-title: oklch(var(--accent-title));

	/* Surface colors */
	--color-surface-1: var(--surface-1);
	--color-surface-2: var(--surface-2);
	--color-surface-3: var(--surface-3);
	--color-surface-glass: var(--surface-glass);

	/* Terminal Theme Colors */
	--color-terminal-bg: var(--terminal-bg);
	--color-terminal-bg-dark: #16161e;
	--color-terminal-header: var(--terminal-header);
	--color-terminal-header-dark: #1e2030;
	--color-terminal-header-border: rgba(100, 100, 150, 0.2);
	--color-terminal-text: var(--terminal-text);
	--color-terminal-title: #a9b1d6;
	--color-terminal-menu: #787c99;
	--color-terminal-hint: var(--terminal-muted);
	--color-terminal-hint-bg: #1e2030;
	--color-terminal-hint-border: rgba(100, 100, 150, 0.15);
	--color-terminal-border: rgba(82, 82, 119, 0.3);
	--color-terminal-scrollbar-thumb: var(--terminal-scrollbar);
	--color-terminal-error: var(--terminal-error);
	--color-terminal-success: var(--terminal-success);
	--color-terminal-info: var(--terminal-info);
	--color-terminal-warning: var(--terminal-warning);
	--color-terminal-loading: var(--terminal-purple);
	--color-terminal-selection: rgba(150, 170, 220, 0.4);
	--color-terminal-prompt-user: #34d399;
	--color-terminal-prompt-host: #38bdf8;
	--color-terminal-prompt-path: #e879f9;
	--color-terminal-prompt-sep: #9ca3af;

	/* Terminal Shadow */
	--shadow-terminal:
		0 20px 40px -15px rgba(0, 0, 0, 0.5), inset 0 0 50px -5px rgba(50, 50, 80, 0.15);

	/* Fonts */
	--font-Inter:
		'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
		'Open Sans', 'Helvetica Neue', sans-serif;
	--font-doto: 'Doto', sans-serif;
	--font-mono: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;

	--animate-*: initial;
}

@custom-variant dark (&:where([data-theme='dark'], [data-theme='dark'] *));
@custom-variant hover (&:hover);

/* =============================================================================
   BASE STYLES
   ============================================================================= */

body {
	@apply grid min-h-screen min-w-full grid-rows-[auto_1fr_auto];
	@apply scroll-smooth bg-background font-Inter leading-6 text-foreground antialiased;
}

@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

/* =============================================================================
   COMPONENT UTILITY CLASSES (using @apply)
   Use these classes in your components for consistent styling
   ============================================================================= */

@layer components {
	/* -------------------------------------------------------------------------
	   CARD STYLES
	   ------------------------------------------------------------------------- */

	/* Glass card - frosted glass effect */
	.card-glass {
		@apply rounded-xl backdrop-blur-xl;
		background: linear-gradient(
			145deg,
			oklch(var(--accent-bg) / 0.12),
			oklch(var(--accent-bg) / 0.04)
		);
		border: 1px solid oklch(var(--accent-text) / 0.15);
		box-shadow:
			0 25px 50px -12px rgba(0, 0, 0, 0.25),
			0 0 0 1px oklch(var(--accent-text) / 0.05);
	}

	/* Elevated card - subtle shadow and hover lift */
	.card-elevated {
		@apply rounded-xl transition-all duration-300;
		background-color: var(--surface-1);
		box-shadow:
			0 15px 30px -5px oklch(var(--accent-500) / 0.05),
			0 8px 15px -6px oklch(var(--accent-500) / 0.08);
	}

	.card-elevated:hover {
		transform: translateY(-8px) scale(1.01);
		background-color: var(--surface-2);
		box-shadow:
			0 15px 30px -5px oklch(var(--accent-500) / 0.2),
			0 8px 15px -6px oklch(var(--accent-500) / 0.15);
	}

	/* -------------------------------------------------------------------------
	   BUTTON STYLES
	   ------------------------------------------------------------------------- */

	/* Primary button */
	.btn-primary {
		@apply relative cursor-pointer overflow-hidden rounded-lg px-5 py-3.5;
		@apply leading-tight font-bold transition duration-300 ease-in-out;
		@apply border-2 border-accent-500 text-accent-text;
		background: oklch(var(--accent-bg) / 0.3);
	}

	.btn-primary:hover {
		background: oklch(var(--accent-bg) / 0.6);
	}

	/* Ghost button */
	.btn-ghost {
		@apply cursor-pointer rounded-lg px-4 py-2;
		@apply font-medium transition duration-200;
		@apply border border-transparent text-foreground-muted;
		background: transparent;
	}

	.btn-ghost:hover {
		background: rgba(var(--foreground), 0.05);
		@apply text-foreground;
	}

	/* Icon button (circular) */
	.btn-icon {
		@apply flex cursor-pointer items-center justify-center rounded-full;
		@apply transition duration-200;
		border: 1px solid oklch(var(--accent-text) / 0.2);
		background: oklch(var(--accent-bg) / 0.1);
		color: oklch(var(--accent-text));
	}

	.btn-icon:hover:not(:disabled) {
		background: oklch(var(--accent-bg) / 0.2);
		border-color: oklch(var(--accent-text) / 0.3);
		transform: scale(1.05);
	}

	.btn-icon:active:not(:disabled) {
		transform: scale(0.95);
	}

	.btn-icon:disabled {
		@apply cursor-not-allowed opacity-50;
	}

	/* -------------------------------------------------------------------------
	   NAVIGATION STYLES
	   ------------------------------------------------------------------------- */

	/* Nav container */
	.nav-glass {
		@apply rounded-xl backdrop-blur-xl;
		background: rgba(2, 21, 38, 0.85);
		border: 1px solid rgba(224, 230, 237, 0.1);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
	}

	/* Nav item */
	.nav-item-base {
		@apply relative flex cursor-pointer items-center rounded-lg;
		@apply text-foreground-muted no-underline;
		@apply transition-all duration-200;
	}

	.nav-item-base:hover,
	.nav-item-base.active {
		color: oklch(var(--accent-text));
		background: oklch(var(--accent-bg) / 0.2);
	}

	.nav-item-base.active {
		background: oklch(var(--accent-bg) / 0.3);
	}

	/* -------------------------------------------------------------------------
	   INDICATOR DOT STYLES
	   ------------------------------------------------------------------------- */

	.indicator-dot {
		@apply h-2 w-2 cursor-pointer rounded-full border-none;
		@apply transition-all duration-300;
		background: oklch(var(--accent-text) / 0.25);
	}

	.indicator-dot:hover {
		background: oklch(var(--accent-text) / 0.5);
	}

	.indicator-dot.active {
		@apply w-6 rounded;
		background: oklch(var(--accent-text));
	}

	/* -------------------------------------------------------------------------
	   TEXT STYLES
	   ------------------------------------------------------------------------- */

	/* Gradient text effect */
	.text-gradient {
		@apply bg-clip-text text-transparent;
		background-image: linear-gradient(
			135deg,
			oklch(var(--accent-text)),
			oklch(var(--accent-title))
		);
	}

	/* Muted description text */
	.text-description {
		@apply text-sm leading-relaxed text-foreground-muted;
	}

	/* -------------------------------------------------------------------------
	   FORM STYLES
	   ------------------------------------------------------------------------- */

	/* Input field */
	.input-base {
		@apply w-full rounded-lg px-4 py-2;
		@apply text-inherit outline-none;
		@apply transition duration-200;
		font: inherit;
		background: transparent;
		border: 1px solid var(--border-default);
	}

	.input-base:focus {
		border-color: oklch(var(--accent-text) / 0.5);
		box-shadow: 0 0 0 3px oklch(var(--accent-bg) / 0.2);
	}

	/* -------------------------------------------------------------------------
	   UTILITY CLASSES
	   ------------------------------------------------------------------------- */

	/* Border utilities */
	.border-subtle {
		border-color: var(--border-subtle);
	}

	.border-accent {
		border-color: var(--border-accent);
	}

	/* Section container */
	.section-container {
		@apply relative mx-auto w-full max-w-6xl px-4;
	}

	/* Flex center */
	.flex-center {
		@apply flex items-center justify-center;
	}

	/* Truncate text with ellipsis */
	.truncate-lines-2 {
		display: -webkit-box;
		line-clamp: 2;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.truncate-lines-3 {
		display: -webkit-box;
		line-clamp: 3;
		-webkit-line-clamp: 3;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	/* -------------------------------------------------------------------------
	   SLIDER/LIGHTBOX COMMON STYLES
	   ------------------------------------------------------------------------- */

	.slider-control {
		@apply flex cursor-pointer items-center justify-center rounded-full;
		@apply backdrop-blur-md transition-all;
		background-color: rgba(0, 0, 0, 0.45);
		border: 1px solid rgba(255, 255, 255, 0.15);
		color: white;
		box-shadow: var(--shadow-md);
	}

	.slider-control:hover {
		background-color: oklch(var(--accent-bg) / 0.7);
		box-shadow: var(--shadow-lg);
		border-color: rgba(255, 255, 255, 0.4);
	}
}

/* =============================================================================
   LOADER STATE - Prevents scrollbar flash
   ============================================================================= */

body.is-loading {
	overflow: hidden !important;
}

/* =============================================================================
   CUSTOM SCROLLBAR
   ============================================================================= */

html {
	scroll-behavior: smooth;
}

html,
body {
	scrollbar-width: thin;
	scrollbar-color: var(--scroll-main) var(--scroll-bg);
}

/* Chrome, Edge, and Safari */
::-webkit-scrollbar {
	width: 12px;
	height: 12px;
}

::-webkit-scrollbar-track {
	background: var(--scroll-bg);
	border-radius: 8px;
	margin: 4px 0;
}

::-webkit-scrollbar-thumb {
	background-color: var(--scroll-main);
	border-radius: 8px;
	border: 3px solid var(--scroll-bg);
	transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-accent-500;
}

::-webkit-scrollbar-thumb:active {
	@apply bg-accent-500;
}

/* =============================================================================
   REDUCED MOTION PREFERENCE
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}
