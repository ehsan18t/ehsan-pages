:root {
  /* Optimized Animation Variables with Performance-Focused Timing */
  --anim-fade-in: fade-in 0.3s cubic-bezier(0.1, 0.9, 0.2, 1);
  --anim-fade-out: fade-out 0.3s cubic-bezier(0.1, 0.9, 0.2, 1);
  --anim-fade-up: fade-up 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-fade-down: fade-down 0.35s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-slide-in: slide-in 0.4s cubic-bezier(0.2, 0.9, 0.2, 1);
  --anim-slide-out: slide-out 0.4s cubic-bezier(0.2, 0.9, 0.2, 1);
  --anim-scale-up: scale-up 0.25s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-scale-down: scale-down 0.25s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-rotate: rotate 1.5s linear infinite;
  --anim-flip: flip 0.8s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-bounce: bounce 1.5s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-pulse: pulse 2s cubic-bezier(0.25, 0.8, 0.25, 1) infinite;
  --anim-special: special-effect 1.5s cubic-bezier(0.25, 0.8, 0.25, 1);
  --anim-wiggle: wiggle 1s ease-in-out infinite;
  --anim-slide-in-right: slide-in-right 0.4s cubic-bezier(0.2, 0.9, 0.2, 1);
  --anim-slide-in-bottom: slide-in-bottom 0.4s cubic-bezier(0.2, 0.9, 0.2, 1);
  --anim-slide-in-top: slide-in-top 0.4s cubic-bezier(0.2, 0.9, 0.2, 1);
  --anim-shake: shake 0.8s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  --anim-flash: flash 1s;
  --anim-zoom-in: zoom-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --anim-zoom-out: zoom-out 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --anim-blur-in: blur-in 0.6s;
  --anim-swing: swing 1s ease-out;
  --anim-typing: typing 3.5s steps(40, end);
  --anim-spin: custom-spin 1.5s linear infinite;
}

/* Hardware-Accelerated Keyframes */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes fade-up {
  from {
    opacity: 0;
    transform: translate3d(0, 10px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes fade-down {
  from {
    opacity: 0;
    transform: translate3d(0, -10px, 0);
  }
  to {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slide-in {
  from {
    transform: translate3d(-100%, 0, 0);
  }
  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slide-out {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(100%, 0, 0);
  }
}

@keyframes scale-up {
  from {
    transform: scale3d(0.95, 0.95, 1);
  }
  to {
    transform: scale3d(1, 1, 1);
  }
}

@keyframes scale-down {
  from {
    transform: scale3d(1, 1, 1);
  }
  to {
    transform: scale3d(0.95, 0.95, 1);
  }
}

/* Optimized 3D transforms for better GPU acceleration */
@keyframes rotate {
  from {
    transform: rotate3d(0, 0, 1, 0deg);
  }
  to {
    transform: rotate3d(0, 0, 1, 360deg);
  }
}

@keyframes flip {
  from {
    transform: perspective(600px) rotateY(0deg);
    backface-visibility: hidden;
  }
  to {
    transform: perspective(600px) rotateY(180deg);
    backface-visibility: hidden;
  }
}

/* Physics-based animations with smoother transitions */
@keyframes bounce {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  40% {
    transform: translate3d(0, -30px, 0);
  }
  60% {
    transform: translate3d(0, -15px, 0);
  }
}

@keyframes pulse {
  0%,
  100% {
    transform: scale3d(1, 1, 1);
  }
  50% {
    transform: scale3d(1.05, 1.05, 1);
  }
}

@keyframes special-effect {
  0% {
    opacity: 0;
    transform: scale3d(0.8, 0.8, 1);
  }
  50% {
    opacity: 1;
    transform: scale3d(1.1, 1.1, 1);
  }
  100% {
    opacity: 0;
    transform: scale3d(0.8, 0.8, 1);
  }
}

@keyframes wiggle {
  0%,
  100% {
    transform: rotate3d(0, 0, 1, -3deg);
  }
  50% {
    transform: rotate3d(0, 0, 1, 3deg);
  }
}

/* Additional slide direction animations */
@keyframes slide-in-right {
  from {
    transform: translate3d(100%, 0, 0);
  }
  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slide-in-bottom {
  from {
    transform: translate3d(0, 100%, 0);
  }
  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes slide-in-top {
  from {
    transform: translate3d(0, -100%, 0);
  }
  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes shake {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate3d(-4px, 0, 0);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translate3d(4px, 0, 0);
  }
}

@keyframes flash {
  0%,
  50%,
  100% {
    opacity: 1;
  }
  25%,
  75% {
    opacity: 0.5;
  }
}

@keyframes zoom-in {
  from {
    opacity: 0;
    transform: scale3d(1.5, 1.5, 1);
  }
  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

@keyframes zoom-out {
  from {
    opacity: 0;
    transform: scale3d(0.3, 0.3, 1);
  }
  to {
    opacity: 1;
    transform: scale3d(1, 1, 1);
  }
}

@keyframes blur-in {
  from {
    opacity: 0;
    filter: blur(8px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes swing {
  20% {
    transform: rotate3d(0, 0, 1, 15deg);
  }
  40% {
    transform: rotate3d(0, 0, 1, -10deg);
  }
  60% {
    transform: rotate3d(0, 0, 1, 5deg);
  }
  80% {
    transform: rotate3d(0, 0, 1, -5deg);
  }
  to {
    transform: rotate3d(0, 0, 1, 0deg);
  }
}

@keyframes typing {
  from {
    transform: scaleX(0);
    transform-origin: left;
  }
  to {
    transform: scaleX(1);
    transform-origin: left;
  }
}

@keyframes custom-spin {
  from {
    transform: rotate3d(0, 0, 1, var(--initial-rotation, 0deg));
  }
  to {
    transform: rotate3d(0, 0, 1, calc(var(--initial-rotation, 0deg) + 360deg));
  }
}

/* Composite animation classes with hardware acceleration hints */
.animated {
  backface-visibility: hidden;
  transform-style: preserve-3d;
  contain: paint layout; /* Improves performance by limiting repaints */
}

/* Performance-optimized animation utility classes */
.animate-fade-in {
  animation: var(--anim-fade-in);
  will-change: opacity;
}

.animate-fade-out {
  animation: var(--anim-fade-out);
  will-change: opacity;
}

.animate-fade-up {
  animation: var(--anim-fade-up);
  will-change: transform, opacity;
}

.animate-fade-down {
  animation: var(--anim-fade-down);
  will-change: transform, opacity;
}

.animate-slide-in {
  animation: var(--anim-slide-in);
  will-change: transform;
}

.animate-slide-out {
  animation: var(--anim-slide-out);
  will-change: transform;
}

.animate-scale-up {
  animation: var(--anim-scale-up);
  will-change: transform;
}

.animate-scale-down {
  animation: var(--anim-scale-down);
  will-change: transform;
}

.animate-rotate {
  animation: var(--anim-rotate);
  will-change: transform;
}

.animate-flip {
  animation: var(--anim-flip);
  backface-visibility: hidden;
  will-change: transform;
}

.animate-bounce {
  animation: var(--anim-bounce);
  will-change: transform;
}

.animate-pulse {
  animation: var(--anim-pulse);
  will-change: transform;
}

.animate-special {
  animation: var(--anim-special);
  will-change: transform, opacity;
}

.animate-wiggle {
  animation: var(--anim-wiggle);
  will-change: transform;
}

.animate-slide-in-right {
  animation: var(--anim-slide-in-right);
  will-change: transform;
}

.animate-slide-in-bottom {
  animation: var(--anim-slide-in-bottom);
  will-change: transform;
}

.animate-slide-in-top {
  animation: var(--anim-slide-in-top);
  will-change: transform;
}

.animate-shake {
  animation: var(--anim-shake);
  will-change: transform;
}

.animate-flash {
  animation: var(--anim-flash);
  will-change: opacity;
}

.animate-zoom-in {
  animation: var(--anim-zoom-in);
  will-change: transform, opacity;
}

.animate-zoom-out {
  animation: var(--anim-zoom-out);
  will-change: transform, opacity;
}

.animate-blur-in {
  animation: var(--anim-blur-in);
  will-change: opacity, filter;
}

.animate-swing {
  transform-origin: top center;
  animation: var(--anim-swing);
  will-change: transform;
}

.animate-typing {
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  animation: var(--anim-typing);
  width: 0;
}

.animate-fade-in {
  animation: var(--anim-fade-in);
  animation-fill-mode: forwards;
  will-change: opacity;
}

.animate-appear {
  opacity: 0;
  transform: translate3d(0, 100px, 0);
  animation: var(--anim-fade-up);
  animation-fill-mode: forwards;
  will-change: transform, opacity;
}

.animate-spin {
  animation: var(--anim-spin);
  will-change: transform;
}

/* Performance utilities for scroll optimization */
.scroll-active {
  animation-play-state: paused !important;
  will-change: auto !important; /* Reset will-change during scroll */
}

/* Animation delay utilities */
.delay-100 {
  animation-delay: 100ms;
}
.delay-200 {
  animation-delay: 200ms;
}
.delay-300 {
  animation-delay: 300ms;
}
.delay-500 {
  animation-delay: 500ms;
}

/* Animation duration utilities */
.animation-duration-100 {
  animation-duration: 100ms;
}
.animation-duration-200 {
  animation-duration: 200ms;
}
.animation-duration-300 {
  animation-duration: 300ms;
}
.animation-duration-500 {
  animation-duration: 500ms;
}
.animation-duration-700 {
  animation-duration: 700ms;
}
.animation-duration-1000 {
  animation-duration: 1000ms;
}
.animation-duration-1500 {
  animation-duration: 1500ms;
}
.animation-duration-2000 {
  animation-duration: 2s;
}
.animation-duration-3000 {
  animation-duration: 3s;
}
.animation-duration-5000 {
  animation-duration: 5s;
}
.animation-duration-10000 {
  animation-duration: 10s;
}
.animation-duration-infinite {
  animation-duration: infinite;
}
.animation-duration-0 {
  animation-duration: 0ms;
}

/* Improved accessibility - respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  ::before,
  ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .reduced-motion {
    animation: none !important;
    transition: none !important;
  }
}

/* Fixed element rendering optimization */
.gpu-accelerated {
  transform: translateZ(0); /* Force GPU acceleration */
  backface-visibility: hidden;
  perspective: 1000px;
  transform-style: preserve-3d;
}

.fill-forwards {
  animation-fill-mode: forwards;
}
.fill-backwards {
  animation-fill-mode: backwards;
}
.fill-both {
  animation-fill-mode: both;
}

/* Intersection Observer Animation Support */
/* Base class for elements that will animate when in view */
.animate-when-visible {
  opacity: 0; /* Start invisible */
  will-change: transform, opacity;
  visibility: visible; /* Keep element in layout */
  transition: opacity 0.2s ease-out;
}

/* Applied by JS when element comes into view */
.animate-when-visible.is-visible {
  opacity: 1;
  animation-play-state: running;
}

/* Override existing animation classes to be paused initially */
.animate-when-visible.animate-fade-in,
.animate-when-visible.animate-fade-out,
.animate-when-visible.animate-fade-up,
.animate-when-visible.animate-fade-down,
.animate-when-visible.animate-slide-in,
.animate-when-visible.animate-slide-out,
.animate-when-visible.animate-scale-up,
.animate-when-visible.animate-scale-down,
.animate-when-visible.animate-rotate,
.animate-when-visible.animate-flip,
.animate-when-visible.animate-bounce,
.animate-when-visible.animate-pulse,
.animate-when-visible.animate-special,
.animate-when-visible.animate-wiggle,
.animate-when-visible.animate-slide-in-right,
.animate-when-visible.animate-slide-in-bottom,
.animate-when-visible.animate-slide-in-top,
.animate-when-visible.animate-shake,
.animate-when-visible.animate-flash,
.animate-when-visible.animate-zoom-in,
.animate-when-visible.animate-zoom-out,
.animate-when-visible.animate-blur-in,
.animate-when-visible.animate-swing,
.animate-when-visible.animate-typing {
  animation-play-state: paused;
  animation-fill-mode: both; /* Ensures animation stays at final state */
}

/* Animation play state utility classes */
.animation-paused {
  animation-play-state: paused !important;
}

.animation-running {
  animation-play-state: running !important;
}

/* For elements that should animate only once when they appear */
.animate-once {
  animation-iteration-count: 1 !important;
}
