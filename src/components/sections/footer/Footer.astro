---
import { Icon } from "astro-icon/components";
import Terminal from "./contact-terminal/Terminal";
const currentYear = new Date().getFullYear();

const tech = [
  {
    name: "Astro",
    icon: "simple-icons:astro",
  },
  {
    name: "React",
    icon: "simple-icons:react",
  },
  {
    name: "TailwindCSS",
    icon: "simple-icons:tailwindcss",
  },
];
---

<footer class="from-background via-background/90 relative mt-12 overflow-hidden bg-gradient-to-t to-transparent pt-16 pb-10">
  <!-- Main Footer Content -->
  <div class="relative z-10 container mx-auto px-4">
    <!-- Interactive Logo -->
    <div class="mb-8 flex justify-center">
      <h2 class="font-doto text-4xl font-bold transition-all duration-300">
        <span class="text-accent-title group-hover:text-accent-text transition-colors duration-300">Contact</span>
        <span class="transition-all duration-300 group-hover:tracking-wider">me</span>
      </h2>
    </div>

    <!-- Terminal Section -->
    <Terminal client:visible />

    <!-- Footer bottom -->
    <div class="flex flex-col-reverse items-center justify-between gap-1 pt-4 md:flex-row">
      <p class="text-foreground-muted hover:text-foreground text-sm transition-colors duration-300">
        Â© <span class="text-foreground">{currentYear}</span> Ehsan Khan. All rights reserved.
      </p>
      <div class="text-foreground-muted mt-4 flex items-center gap-1 text-sm md:mt-0">
        <span class="bg-accent-text inline-block h-2 w-2 animate-pulse rounded-full"></span>
        <span class="flex items-center gap-1">
          Built with
          <span class="ml-2 flex items-center gap-2.5">
            {
              tech.map((item) => (
                <span
                  class="tech-icon bg-accent-bg/20 hover:text-accent-300 hover:bg-accent-bg/30 text-accent-text relative flex h-7 w-7 items-center justify-center rounded-md p-1.5 transition-all duration-300 hover:-translate-y-0.5 hover:shadow-[0_4px_8px_-2px_oklch(var(--accent-bg)/0.5)]"
                  title={item.name}
                >
                  <Icon name={item.icon} width={20} height={20} />
                </span>
              ))
            }
          </span>
        </span>
      </div>

      <!-- Easter Egg: Hidden Message -->
      <div class="hidden">Thanks for checking out my code!</div>
    </div>
  </div>
</footer>

<style>
  .tech-icon:hover::before {
    content: attr(title);
    position: absolute;
    top: -24px;
    font-size: 10px;
    background: oklch(var(--accent-bg) / 0.8);
    color: oklch(var(--accent-text));
    padding: 2px 6px;
    border-radius: 4px;
    white-space: nowrap;
  }
</style>
